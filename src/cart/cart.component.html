<app-nav-bar></app-nav-bar>

<div class="p-32">
  <table class="w-full ">
    <thead>
      <tr class="text-slate-500 ">
        <th class="text-left">Item</th>
        <th class="text-left">Title</th>
        <th class="text-left">Price</th>
        <th class="text-left">Quantity</th>
        <th class="text-left">Total</th>
        <th class="text-left">Remove</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of item">
        <td><img src={{item.image}} alt="" class="w-[50px]" /></td>
        <td>{{ item.name }}</td>
        <td>{{ item.price }}</td>
        <td>1</td>
        <td>{{ item.price }}</td>
        <td><button (click)="remove(item)" class="bg-red-500 px-3 py-1 rounded-lg text-white">Delete</button></td>
        <hr />
      </tr>
    </tbody>
  </table>
  <div class="flex mt-20">
    <div class="w-[50%] pr-16">
      <h1 class="font-bold text-slate-800 text-xl mb-4">Cart Totals</h1>
      <div class="flex flex-col gap-3">
        <div class="flex justify-between">
          <p class="text-slate-500">SubTotal</p>
          <p class="text-slate-500">Rs {{getTotal()}}</p>
        </div>
        <hr class="h-0.5 bg-slate-200 rounded-full" />
        <div class="flex justify-between">
          <p class="text-slate-500">Delivery Fee</p>
          <p class="text-slate-500">Rs 50</p>
        </div>
        <hr class="h-0.5 bg-slate-200 rounded-full" />
        <div class="flex justify-between">
          <p class="text-slate-500">Promo Discount</p>
          <p class="text-slate-500">RS {{getDiscountAmount()}}</p>
        </div>
        <hr class="h-0.5 bg-slate-200 rounded-full" />
        <div class="flex justify-between">
          <p class="text-slate-900">Total</p>
          <p class="text-green-600">Rs {{getTotal() + 50}}</p>
        </div>
        <div class="felx justify-start mt-4">
          <button
          (click)="goPay()"
            class="bg-orange-500 px-4 py-2 rounded-lg text-white hover:bg-orange-600 hover:scale-105 transfrom transition ease-in-out"
          >
            Processed To Checkout
          </button>
        </div>
      </div>
    </div>
    <div class="w-[50%] pl-16">
      <p class="text-slate-700 mb-2">If you have a promo code, Enter it here</p>
      <form (ngSubmit)="applyPromoCode()" class="flex item relative w-[400px]">
        <input
          type="text"
          [(ngModel)]="promoCode"
          name="promoCode"
          placeholder="Promo code"
          class="py-2 px-4 rounded-lg bg-slate-200 w-full outline-none"
        />
        <button
          class="bg-slate-800 text-white rounded-r-lg px-4 absolute h-full ml-auto right-0"
        >
          Submit
        </button>
      </form>
    </div>
  </div>
</div>
